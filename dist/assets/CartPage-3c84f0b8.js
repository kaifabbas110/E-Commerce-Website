import{a as h,j as t,c as x,u as k,r as g,d as T,L as u,i as f,e as M,o as O,f as q}from"./index-0a8d59e4.js";import{N as B,C as I,f as c,B as A}from"./Navbar-a6df2524.js";import{A as D,a as $}from"./index.esm-8023b639.js";import{F as R}from"./Footer-368c9764.js";const F="_cartContainer_poss3_1",S="_cartItemsTable_poss3_27",P="_grid_poss3_35",Y="_quantity_poss3_99",E="_attributeTitleMobile_poss3_155",L="_tableMargin_poss3_161",Q="_attribute_poss3_155",w="_attributeTitleDesktop_poss3_235",H="_emptyCart_poss3_251",W="_quantityBtn_poss3_295",z="_checkOut_poss3_323",G="_checkOutBox_poss3_365",e={cartContainer:F,cartItemsTable:S,grid:P,quantity:Y,attributeTitleMobile:E,tableMargin:L,attribute:Q,attributeTitleDesktop:w,emptyCart:H,quantityBtn:W,checkOut:z,checkOutBox:G},J="_fullCover_bc1yb_7",K="_OpenModal_bc1yb_41",U="_btn_bc1yb_81",o={fullCover:J,OpenModal:K,btn:U},V=({onConfirmRemove:a,title:l})=>{const r=h();return t.jsx("div",{className:o.fullCover,children:t.jsxs("div",{className:o.OpenModal,children:[t.jsx("h1",{children:"Are you Sure ? "}),t.jsxs("h3",{children:["You want to remove ",l," from the shopping bag?"]}),t.jsxs("div",{className:o.btn,children:[t.jsx("button",{type:"button",onClick:a,children:"Yes"}),t.jsx("button",{type:"button",onClick:()=>r(x()),children:"No"})]})]})})},et=()=>{const{AddToCart:a,isOpen:l,Total:r}=k(s=>s.cart),n=h(),p=s=>{n(f(s))},b=s=>{n(M(s))},j=(s,v)=>{const N=s*v;return c(N)},[i,d]=g.useState(null),m=s=>{d(s),n(O())},_=()=>{i&&(n(q(i.id)),n(x()),d(null))},{loginWithRedirect:y,user:C}=T();return t.jsxs(t.Fragment,{children:[l&&t.jsx(V,{onConfirmRemove:_,title:i==null?void 0:i.title}),t.jsxs("div",{className:e.mainContainer,children:[t.jsx(B,{}),t.jsxs("div",{className:e.cartContainer,children:[t.jsxs("h1",{children:["my bag (",a.length,")"]}),a.length>0?t.jsxs("table",{className:e.cartItemsTable,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"product"}),t.jsx("th",{children:"price"}),t.jsx("th",{children:"quantity"}),t.jsx("th",{children:"sub total"})]})}),t.jsx("tbody",{children:a.map(s=>t.jsxs("tr",{className:e.tableMargin,children:[t.jsxs("td",{className:e.grid,children:[t.jsx("td",{children:t.jsx("button",{type:"button",onClick:()=>n(m(s)),children:t.jsx(I,{})})}),t.jsx("td",{children:t.jsx("img",{src:s.thumbnail,alt:s.title})}),t.jsx("td",{"data-cell":"title",className:`${e.attribute} ${e.attributeTitleDesktop}`,children:s.title})]}),t.jsx("td",{"data-cell":"title",className:`${e.attribute} ${e.attributeTitleMobile}`,children:s.title}),t.jsx("td",{"data-cell":"price",className:e.attribute,children:c(s.price)}),t.jsx("td",{"data-cell":"quantity",className:e.attribute,children:t.jsxs("td",{className:e.quantity,children:[t.jsx("button",{type:"button",className:e.quantityBtn,onClick:()=>b(s),children:t.jsx(D,{})}),t.jsx("span",{children:s.quantity}),t.jsx("button",{type:"button",className:e.quantityBtn,onClick:()=>p(s),children:t.jsx($,{})})]})}),t.jsx("td",{"data-cell":"sub total",className:e.attribute,children:j(s.price,s.quantity)})]},s.id))})]}):t.jsxs("div",{className:e.emptyCart,children:[t.jsxs("div",{children:[t.jsx(A,{}),t.jsx("p",{children:"Your cart is currently empty"})]}),t.jsx(u,{to:"/everything",children:t.jsx("button",{type:"button",className:e.returnToShop,children:"return to shop"})})]}),t.jsxs("div",{className:e.checkOut,children:[t.jsxs("div",{className:e.checkOutBox,children:[t.jsxs("div",{children:[t.jsx("span",{children:"subTotal:"}),t.jsx("span",{children:c(r)})]}),t.jsxs("div",{children:[t.jsx("span",{children:"shipping fee:"}),t.jsx("span",{children:c(4.99)})]}),t.jsxs("div",{children:[t.jsx("span",{children:"order total:"}),t.jsxs("span",{children:[" ",c(r+4.99)]})]})]}),C?t.jsx(u,{to:"/checkout",children:t.jsx("button",{type:"button",children:"proceed to checkout"})}):t.jsx("button",{type:"button",onClick:()=>y(),children:"login"})]})]}),t.jsx(R,{})]})]})};export{et as default};
