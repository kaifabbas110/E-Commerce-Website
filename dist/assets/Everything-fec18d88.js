import{u as L,a as E,j as e,h as s,L as I,b as z,s as R,r as d,k as J,l as k}from"./index-1dd2f418.js";import{B as K,f as S,N as Q,A as U}from"./Navbar-22a33134.js";import{F as W}from"./Footer-b31f11e7.js";import{u as X}from"./index-3b7d6a47.js";const Y=({id:a,e:c})=>{const{CartOnHover:h}=L(u=>u.cart),i=E(),{ref:g,inView:m}=X(),l=u=>{i(R(u))},p=u=>{i(R(null))};return e.jsxs("div",{className:`${s.wholecard}  `,children:[e.jsxs("div",{className:s.card,onMouseEnter:()=>l(a),onMouseLeave:()=>p(),onTouchMove:()=>l(a),children:[e.jsx(I,{to:`/Product/${a}`,children:m?e.jsx("img",{src:c.thumbnail,alt:c.title,className:s.hoverImg}):e.jsx("img",{ref:g})},a),h?e.jsx("button",{type:"button",className:` ${h===a?s.addToCart:s.hidden}`,onClick:()=>i(z({id:a,...c})),children:e.jsx(K,{})}):""]}),e.jsx(I,{to:`/Product/${a}`,children:e.jsxs("div",{className:s.card_info,children:[e.jsx("h3",{children:c.title}),e.jsx("p",{children:c.category}),e.jsx("span",{children:S(c.price)})]})},a)]})},ne=()=>{const{FilteredItems:a,FilterSection:c,maxPrice:h,minPrice:i,isLoading:g}=L(t=>t.filter),m=E(),[l,p]=d.useState({}),u=(t,n,o)=>{if(t.target.checked){const r={...l,[n]:t.target.value};p(l),m(k(r))}else{const r={...l,"":""};p(l),m(k(r))}};d.useEffect(()=>(m(J()),()=>{}),[]);const[P,H]=d.useState(""),[M,w]=d.useState([]),[v,T]=d.useState(null),f=9,[j,N]=d.useState(1),b=(j-1)*f,F=b+f,V=a.slice(b,F),$=Math.ceil(a.length/f),A=()=>{window.scrollTo({top:0,behavior:"smooth"}),N(t=>t-1)},_=()=>{window.scrollTo({top:0,behavior:"smooth"}),N(t=>t+1)},B=t=>{const n=t.target.value.toLowerCase();H(n);const o=a.filter(r=>{const x=r.title.toLowerCase().includes(n),y=v===null||r.price>=i&&r.price<=v;return x&&y});w(o),N(1)},[D,O]=d.useState(h),G=t=>{const n=parseFloat(t.target.value);O(n),T(n);const o=a.filter(r=>r.price>=i&&r.price<=n);w(o)},C=P||v?M.slice(b,F):V;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:s.mainEverything,children:[e.jsx(Q,{}),e.jsxs("div",{className:s.everything,children:[e.jsxs("div",{className:s.filterSection,children:[e.jsxs("div",{className:s.filterSection1,children:[e.jsx("input",{type:"search",name:"search",id:"search",placeholder:"Search products...",value:P,onChange:B}),e.jsx("button",{type:"button",children:e.jsx(U,{})})]}),e.jsx("div",{className:s.filterSection2,children:c.map(({id:t,name:n,options:o})=>e.jsxs("div",{className:s.filterSection2Mobile,children:[e.jsx("div",{children:e.jsx("h1",{children:"categories"})}),o.map(({label:r,value:x,checked:y})=>e.jsxs("div",{className:s.filterSection2Category,children:[e.jsx("label",{className:s.filterSection2CategoryLabel,children:r.split("-").join(" ").split("_").join(" ")}),e.jsx("input",{type:"checkbox",name:x,id:x,defaultValue:x,defaultChecked:y,onChange:q=>{u(q,n)},className:s.filterSection2CategoryInput})]},x))]},t))}),e.jsxs("div",{className:s.priceRange,children:[e.jsx("div",{className:s.priceRangeInput,children:e.jsx("input",{type:"range",name:"range",id:"range",min:i,max:h,step:20,defaultValue:h,onChange:t=>G(t)})}),e.jsxs("div",{className:s.priceRangeValues,children:[e.jsxs("span",{children:["min price:",e.jsx("span",{children:S(i)})]}),e.jsxs("span",{children:["max price:",e.jsx("span",{children:S(D)})]})]})]})]}),g?e.jsxs("div",{className:s.Loading,children:[e.jsx("h1",{children:"Loading"}),e.jsx("div",{className:s.buffer,children:[...Array(5)].map((t,n)=>e.jsx("div",{},n))})]}):e.jsxs("div",{className:s.everythingProduct,children:[C.length!==0?e.jsx("div",{className:s.everythingProductGrid,children:C.map(({id:t,...n},o)=>e.jsx(Y,{id:t,e:n},t))}):e.jsx("div",{className:s.noResult,children:e.jsx("h1",{children:"no result! ðŸ’©"})}),C.length<9?"":e.jsxs("div",{className:s.pagination,children:[e.jsx("button",{type:"button",onClick:A,disabled:j===1,children:"Previous"}),e.jsx("span",{children:j}),e.jsx("button",{type:"button",onClick:_,disabled:j===$,children:"Next"})]})]})]}),e.jsx(W,{})]})})};export{ne as default};
